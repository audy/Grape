#!/usr/bin/env ruby
require File.expand_path(File.join(File.dirname(__FILE__), '..', 'lib', 'grape'))

config_file = ARGV[0]
exit if config_file.nil?

g = Grape.new :config => config_file

puts "There are #{g.clients.length} clients."
puts "Removing dead clients"
g.remove_dead!

puts "There are #{g.clients.length} clients left."

puts "Setting up clients. You only need to do this once or when you add new clients"
#g.setup_clients

g.sync_database!

g.clients.first.run_blast :query => 'asdf', :database => 'asdf'